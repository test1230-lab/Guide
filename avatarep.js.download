$(function(){$(".avatarep_bg").avatarep_bg();var i,r=0;if("undefined"==typeof lpaname)return!1;$('a[class^="'+lpaname+'"]').on("click",function(e){return e.preventDefault(),!1}),$('a[class^="'+lpaname+'"]').on("mouseover",function(){var e=$(this).attr("class"),t=lpaname.length;e=e.substr(t);var a=$(this).attr("href"),n="id="+a,o=e;$(this).append('<div id="'+lpaname+"mod"+o+'" class="modal_avatar"></div>'),console.log(r),i=setTimeout(function(){return $.ajax({url:a,data:n,type:"post",dataType:"json",beforeSend:function(){$("div#"+lpaname+"mod"+o).css({display:"inline-block",width:320}),$("div#"+lpaname+"mod"+o).fadeIn("fast"),$("div#"+lpaname+"mod"+o).html("<center><img src='images/spinner_big.gif' alt='Retrieving Data'><br>Loading...<br></center>")},success:function(e){$("div#"+lpaname+"mod"+(r=o)).html(e)}}),!1},lpatimer)}),$('a[class^="'+lpaname+'"]').on("mouseout",function(){var e=$(this).attr("class"),t=lpaname.length,a=e=e.substr(t);i&&clearTimeout(i),$("div#"+lpaname+"mod"+a).fadeOut("fast").remove(),$(this).stop()})}),function(d){d.fn.avatarep_bg=function(c){var l,s=["#1abc9c","#16a085","#f1c40f","#f39c12","#2ecc71","#27ae60","#e67e22","#d35400","#3498db","#2980b9","#e74c3c","#c0392b","#9b59b6","#8e44ad","#bdc3c7","#34495e","#2c3e50","#95a5a6","#7f8c8d","#ec87bf","#d870ad","#f69785","#9ba37e","#b49255","#b49255","#a94136"];return this.each(function(){var e=d(this),t=d.extend({name:"Name",color:null,seed:0,charCount:1,textColor:"#ffffff",height:44,width:44,fontSize:30,fontWeight:400,fontFamily:"HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue,Helvetica, Arial,Lucida Grande, sans-serif"},c),a=function(e,t,a){for(var n,o,i,r,c,l="",s=0,d=0,f=e.length;s<f;)i=s,r=void 0,n=55296<=(c=(o=e).charCodeAt(i))&&c<=56319&&o.length>i+1&&56320<=(r=o.charCodeAt(i+1))&&r<=57343?o.substring(i,i+2):o[i],t<=d&&d<a&&(l+=n),s+=n.length,d+=1;return l}((t=d.extend(t,e.data())).name,0,t.charCount).toUpperCase(),n=d('<text text-anchor="middle"></text>').attr({y:"50%",x:"50%",dy:"0.35em","pointer-events":"auto",fill:t.textColor,"font-family":t.fontFamily}).html(a).css({"font-weight":t.fontWeight,"font-size":t.fontSize+"px"});if(null==t.color){var o=Math.floor((a.charCodeAt(0)+t.seed)%s.length);l=s[o]}else l=t.color;var i=d("<svg></svg>").attr({xmlns:"http://www.w3.org/2000/svg","pointer-events":"none",width:t.width,height:t.height}).css({"background-color":l,width:t.width+"px",height:t.height+"px"});i.append(n);var r=window.btoa(unescape(encodeURIComponent(d("<div>").append(i.clone()).html())));e.attr("src","data:image/svg+xml;base64,"+r)})}}(jQuery);